<main>
    <div class="banner-formulario">
        <h2 class="h2-banner-paginas" id="banner-perfil" *ngIf="usuarioPerfil">{{usuarioPerfil.persona?.nombre}} {{usuarioPerfil.persona?.apellido}}</h2>
    </div>
    <section class="section-perfil">
        <div class="div-form-perfil">
            <form action="" class="formulario-perfil" [formGroup]="personaPerfil">
                <div class="form-perfil-div">
                    <h2>DATOS</h2>
                    <label for="nombre">NOMBRE</label>
                    <input id="nombre" type="text" formControlName="nombre">
                    <label for="apellido">APELLIDO</label>
                    <input id="apellido" type="text" formControlName="apellido">
                    <label for="telefono">TELÉFONO</label>
                    <input id="telefono" type="tel" formControlName="telefono">
                    <label for="usuario">USUARIO</label>
                    <input id="usuario" type="text" name="usuario" readonly value="{{usuarioPerfil?.usuario}}">
                    <label for="correo">CORREO</label>
                    <input id="correo" type="mail" name="correo" readonly value="{{usuarioPerfil?.correo}}">
                    <button type="submit" class="boton-actualizar-datos" (click)="actualizarPersona()" [formGroup]="personaPerfil">ACTUALIZAR DATOS</button>
                    <span *ngIf="datosActualizados" class="datos-actualizados">datos actualizados</span>
                    </div>
            </form>
            <div id="div-botones"><button type="button" class="boton-eliminarcuenta" (click)="eliminarCuenta()" *ngIf="!eliminar">ELIMINAR CUENTA</button>
                <button type="button" class="boton-confirmar" *ngIf="eliminar" (click)="eliminarConfirmado()">CONFIRMAR</button>
                <button type="button" class="boton-cancelar" *ngIf="eliminar" (click)="cancelarEliminar()">CANCELAR</button></div>
                <p *ngIf="eliminar" class="eliminar-cuenta">¿Estás seguro? Esta acción no se puede deshacer</p>
        </div>
        <div class="div-tabla-reservas">
            <h2>RESERVAS</h2>
            <table class="tabla-reservas">
                <thead>
                    <th>Nº</th>
                    <th>NOMBRE</th>
                    <th>PRECIO</th>
                    <th>FECHA</th>
                </thead>
                <tbody id="tablaBody">
                    <tr *ngFor="let x of this.usuarioPerfil?.reservas">
                        <td>{{x.idReserva}}</td>
                        <td>{{x.servicio?.nombre}}</td>
                        <td>${{x.servicio?.precio}}</td>
                        <td>{{x.fechaReserva|date:"dd/MM/yyyy"}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>
